# 기초 음악 이론 도우미 (Basic music theory helper)

---

## 기능 요구 사항

제공하는 기능 (음정 계산기, 코드 구성음 찾기) 중 하나를 선택해 사용
사용자가 잘못된 값을 입력할 경우 IllegalArgumentException을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 입력을 다시 받음

### 1. 음정 계산기
두 개의 음이름을 입력하면 두 음 사이의 거리를 출력하는 기능
- 콤마(,)로 구분된 두 음을 입력 하면 두 음 사이의 거리를 출력
- 예시 입력
> C,E♭
- 예시 출력
> C와 E♭는 단3도입니다.
- 음정 계산법은 다음 링크의 '계산 원리' 항목을 참고 [음정 - 위키백과](https://ko.wikipedia.org/wiki/%EC%9D%8C%EC%A0%95)

### 2. 코드 구성음 찾기
코드의 이름을 입력하면 코드를 구성하는 음이름을 출력하는 기능
- 예시 입력
> Cm7
- 예시 출력
> 근음: C     
> 단3도: E♭     
> 완전5도: G     
> 단7도: B♭     


### 3. 기타 코드 타브 출력
코드의 이름을 입력하면 해당 코드의 기타 타브를 출력하는 기능
- 기타 타브는 기타의 현을 선으로, 프렛 위치를 숫자로 표기한 형태의 악보
- 가장 위의 선은 1번줄(높은 음), 가장 아래의 선은 6번줄(낮은 음)을 나타냄
- 타브의 개념은 다음 링크를 참고 [Tablature - WIKIPEDIA](https://en.wikipedia.org/wiki/Tablature)
- 예시 입력
> F
- 예시 출력 (이외에도 가능한 모든 위치를 출력)
>F |---1---|   C |---9---|
>C |---1---|   A |--10---|
>A |---2---|   F |--10---|
>F |---3---|   C |--10---|
>C |---3---|   F |---8---|
>F |---1---|     |---X---|

---

## 구현 기능 목록

### 1. 숫자를 입력받아 어떤 기능을 수행할지 선택하는 기능 추가
- 0: 도움말 출력 후 다시 숫자를 입력받을 수 있도록 함
- 1: 음정 계산기 실행
- 2: 코드 구성음 찾기 실행
- 지정되지 않은 값(정수가 아닌 문자열, 범위가 벗어나는 정수) 입력시 예외처리 후 다시 입력 받음
     
### 2. 음정 계산기
#### 2-1. 콤마(,)로 구분된 두 음을 입력받는 기능 추가
- 각각의 음은 알파벳(A~G)과 "", "#", "♭" 중 하나의 조합으로 나타냄
- 음이름이 올바르지 않은 경우 예외처리
- 입력받은 음이 두 개가 아닌 경우 예외처리
#### 2-2. 음정 계산 기능 추가
- 음이름을 기준으로 두 음 사이 몇 개의 반음이 존재하는지 계산
- 음의 알파벳을 기준으로 도수 계산
- 도수와 반음의 개수를 이용해 음정의 성질 결정
#### 2-3. 음정 계산 결과 출력 기능 추가
     
### 3. 코드 구성음 찾기
#### 3-1. 코드 이름을 입력받는 기능 추가
- 코드 표기법은 다양하므로 입력 가능한 형식의 코드명을 예시로 보여준 뒤 입력받음
- 코드명은 혼동을 주지 않는 선에서 최대한 다양한 표기를 적용함
- 코드명은 다음 링크를 참고 [Chord notation - WIKIPEDIA](https://en.wikipedia.org/wiki/Chord_notation)
- "코드의 종류 (근음이 C인 경우 예시)" 는 다음과 같음

===== 3화음 =====
메이저 코드 : C, CM, Cmaj     
마이너 코드 : Cm, Cmin, C-     
오그먼트 코드 : Caug, C+     
디미니쉬 코드 : Cdim     

===== 7th 코드 =====
도미넌트 세븐스 코드 : C7, CMm7, Cmajm7, Cmaj♭7     
메이저 세븐스 코드 : CM7, CMa7, Cmaj7     
마이너 메이저 세븐스 코드 : CmM7, C-M7, Cminmaj7     
마이너 세븐스 코드 : Cm7, C-7, Cmin7     
오그먼트 메이저 세븐스 코드 : C+M7, Caugmaj7, CaugM7     
오그먼트 세븐스 코드 : C+7, Caug7     
하프 디미니쉬 세븐스 코드 : Cm7dim5     
디미니쉬 세븐스 코드 : Cdim7     
도미넌트 세븐스 플랫 파이브 코드 : C7dim5     

- 아래의 코드는 사용 빈도가 낮고 복잡하므로 다른 기능 개발 후 후순위로 추가 예정
  - 텐션코드 (9th, 11th, 13th)
  - 식스 코드 (C6)
  - 마이너 식스 코드 (Cm6)
  - 서스 코드 (Csus2, Csus4)
  - 애드 코드 (Cadd4, Cadd9, Cadd11, Cadd13)
  - 슬래쉬 코드 (C/E, C/G)
#### 3-2. 입력받은 코드의 구성음을 찾는 기능 추가
- 입력받은 코드명에서 근음 찾기
- 입력받은 코드명을 이용해 근음과 구성음 사이의 거리 찾기
- 근음과 구성음의 거리로부터 구성음 찾기
#### 3-3. 코드 구성음 출력 기능 추가
     
### 4. 기타 코드 타브 출력
#### 4-1. 코드 구성음 찾기 실행 후 기타 코드 타브 출력 실행 여부 결정 기능 추가
- "기타 타브를 출력하시겠습니까? (Y/N)" 문구를 출력
- "Y" 입력 시 타브 출력 실행
- "N" 입력 시 "프로그램을 종료합니다." 문구 출력 후 타브를 출력하지 않고 프로그램 종료
- 이외의 문자열 입력시 예외처리 후 다시 입력 받음
#### 4-2. 기타 튜닝 선택 기능 추가
- 타브 출력 실행 선택 시 기타 튜닝 종류를 선택
- 1: Standard Tuning (E-A-D-G-B-E)
- 2: Half-Step Down Tuning (E♭-A♭-D♭-G♭-B♭-E♭)
- 3: Drop D Tuning (D-A-D-G-B-E)
- 4: Drop C# Tuning (C#-A♭-D♭-G♭-B♭-E♭)
- 지정되지 않은 값(정수가 아닌 문자열, 범위가 벗어나는 정수) 입력시 예외처리 후 다시 입력 받음
- 각각의 튜닝은 enum을 이용해 저장
### 4-3. 코드 포지션 탐색 기능 추가
- 기타의 현과 프렛 번호를 숫자 쌍으로 나타냄
- 4, 5, 6번줄에서 근음 위치 모두 찾기 (근음은 가장 낮은 음이므로 낮은음 줄에 위치)
- 근음 위치를 기준으로 크기가 5프렛인 sliding window를 설정 (기타 연주 시 손가락이 닿는 최대 범위를 고려해 5프렛으로 설정)
- 각 sliding window에서 코드 구성음이 존재하는 위치 탐색. 개방현과 근음이 존재하는 줄보다 높은 음의 줄에서 탐색
- 탐색한 위치의 조합 중 모든 코드 구성음이 존재하는 위치 조합 선택
#### 4-4. 타브 출력
- 이전 단계에서 찾은 위치 조합을 타브 형식으로 출력






